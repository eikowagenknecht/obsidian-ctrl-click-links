/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var L=Object.defineProperty;var P=Object.getOwnPropertyDescriptor;var C=Object.getOwnPropertyNames;var D=Object.prototype.hasOwnProperty;var F=(i,t)=>{for(var e in t)L(i,e,{get:t[e],enumerable:!0})},v=(i,t,e,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of C(t))!D.call(i,a)&&a!==e&&L(i,a,{get:()=>t[a],enumerable:!(o=P(t,a))||o.enumerable});return i};var x=i=>v(L({},"__esModule",{value:!0}),i);var w=(i,t,e)=>{if(!t.has(i))throw TypeError("Cannot "+e)};var s=(i,t,e)=>(w(i,t,"read from private field"),e?e.call(i):t.get(i)),r=(i,t,e)=>{if(t.has(i))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(i):t.set(i,e)};var l=(i,t,e)=>(w(i,t,"access private method"),e);var A={};F(A,{default:()=>u});module.exports=x(A);var E=require("obsidian");var n,f,p,k,d,m,y,h,g,u=class extends E.Plugin{constructor(){super(...arguments);r(this,p);r(this,m);r(this,h);r(this,n,new Set);r(this,f,navigator.platform.toUpperCase().includes("MAC"));r(this,d,e=>{let o=e.target;if(o.tagName!=="A"&&!o.classList.contains("cm-hmd-internal-link")&&!o.classList.contains("cm-link")&&!o.classList.contains("cm-url"))return;let a=s(this,f)?e.metaKey:e.ctrlKey,K=decodeURIComponent(o.textContent),c=this.app.metadataCache.getFirstLinkpathDest(K,"");if(e.altKey&&e.shiftKey&&a){c&&this.app.workspace.openPopoutLeaf().openFile(c),e.preventDefault(),e.stopPropagation();return}if(e.shiftKey&&a&&!e.altKey){c&&this.app.workspace.getLeaf("tab").openFile(c),e.preventDefault(),e.stopPropagation();return}if(a&&!e.shiftKey&&!e.altKey){c&&this.app.workspace.getLeaf(!1).openFile(c),e.preventDefault(),e.stopPropagation();return}e.preventDefault(),e.stopPropagation()})}onload(){this.app.workspace.on("file-open",()=>{l(this,p,k).call(this)}),l(this,p,k).call(this)}onunload(){s(this,n).forEach(e=>{let o=e.view.containerEl.querySelector(".cm-content");l(this,h,g).call(this,o)})}};n=new WeakMap,f=new WeakMap,p=new WeakSet,k=function(){this.app.workspace.iterateAllLeaves(e=>{if(e.view.getViewType()==="markdown"&&!s(this,n).has(e)){s(this,n).add(e);let o=e.view.containerEl.querySelector(".cm-content");if(!o)return;l(this,m,y).call(this,o);let a=e.view.onunload;e.view.onunload=()=>{s(this,n).delete(e),l(this,h,g).call(this,o),a(),e.view.onunload=a}}})},d=new WeakMap,m=new WeakSet,y=function(e){e.addEventListener("click",s(this,d),{capture:!0})},h=new WeakSet,g=function(e){e.removeEventListener("click",s(this,d),{capture:!0})};
